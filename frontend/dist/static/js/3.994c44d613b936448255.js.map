{"version":3,"sources":["webpack:///src/components/index/Body.vue","webpack:///./src/assets/js/hp-handlefile.js","webpack:///./src/components/index/Body.vue?a483","webpack:///./src/components/index/Body.vue","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?9e36","webpack:///./src/views/Index.vue","webpack:///./node_modules/babel-runtime/core-js/json/stringify.js","webpack:///./node_modules/core-js/library/fn/json/stringify.js","webpack:///./src/assets/js/hp-css-sprite.js"],"names":["path","global","require","__webpack_exports__","val","_this","this","files","handlefile","_this2","progress","index","filePath","ext","reject","res","err","mode","existsFloder","basePath","url","fs","exists","join","mkdir","console","error","stylesheetPath","cback","cerr","pathObj","parse","dir","split","sep","slice","plugins","forEach","push","cssnext","features","autoprefixer","rem","atImport","cssnano","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","Object","__WEBPACK_IMPORTED_MODULE_1__hp_css_sprite__","then","css","postcss","process","from","to","base","result","writeFile","txt","toString","type","htmlPath","readFile","data","html","imagePath","imgQuant","outputPath","splice","imagemin","imageminMozjpeg","quality","imageminGifsicle","imageminPngquant","floyd","input","createReadStream","output","createWriteStream","on","d","write","end","index_Body","render","_vm","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","id","domProps","checked","Array","isArray","spriteRemMode","_i","change","$event","$$a","$$el","target","$$c","$$i","concat","$set","_v","for","_m","class","drop-hover","dropHover","dragover","preventDefault","drop","_l","item","_s","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Index","normalizeComponent","Body","views_Index","Index_Component","Index_normalizeComponent","module","exports","default","__esModule","core","$JSON","JSON","stringify","it","apply","arguments","sprites","cb","opts","spritePath","spritesmith","padding","filterBy","image","indexOf","Error","groupBy","exec","hooks","onUpdateRule","rule","token","backgroundSize","backgroundPosition","backgroundPositionX","coords","x","backgroundPositionY","y","decl","prop","spriteWidth","timestamp","Date","getTime","backgroundImage","spriteUrl","backgroundRepeat","insertAfter","onSaveSpritesheet","spritesheet","filenameChunks","groups","extension","length"],"mappings":"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","file":"static/js/3.994c44d613b936448255.js","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"layout-body\">\r\n            <div class=\"wp-menu\">\r\n                <div class=\"menu-options\">\r\n                    <ul>\r\n                        <li>\r\n                            <input id=\"sprite\" type=\"checkbox\" class=\"option\" v-model=\"mode.spriteRemMode\">\r\n                            <label for=\"sprite\">雪碧图rem模式</label>\r\n                        </li>\r\n                        <li>\r\n                            <input id=\"imgQuant\" type=\"checkbox\" class=\"option\" v-model=\"mode.imgQuant\">\r\n                            <label for=\"imgQuant\">压缩图片</label>\r\n                        </li>\r\n                        <li>\r\n                            <input id=\"cssnext\" type=\"checkbox\" class=\"option\" value=\"cssnext\" v-model=\"mode.plugins\">\r\n                            <label for=\"cssnext\">使用最新css</label>\r\n                        </li>\r\n                        <li>\r\n                            <input id=\"autoprefixer\" type=\"checkbox\" class=\"option\" value=\"autoprefixer\" v-model=\"mode.plugins\">\r\n                            <label for=\"autoprefixer\">自动加前缀功能</label>\r\n                        </li>\r\n                        <li>\r\n                            <input id=\"cssnano\" type=\"checkbox\" class=\"option\" value=\"cssnano\" v-model=\"mode.plugins\">\r\n                            <label for=\"cssnano\">压缩css</label>\r\n                        </li>\r\n                        <li>\r\n                            <input id=\"import\" type=\"checkbox\" class=\"option\" value=\"@import\" v-model=\"mode.plugins\">\r\n                            <label for=\"import\">处理@import文件</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div class=\"menu-address\">\r\n                    <h3>保存到</h3>\r\n                    <div class=\"local\">\r\n                        <input id=\"local\" type=\"checkbox\" value=\"local\" checked>\r\n                        <label for=\"local\">本地</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"wp-drag\">\r\n                <div class=\"drag-main\" v-bind:class=\" {'drop-hover': dropHover} \" @dragover.prevent=\"dropHover = true\" @drop.prevent=\"drop\">\r\n                    <p>将文件拖拽到此区域</p>\r\n                </div>\r\n                <div class=\"drag-log\">\r\n                    <p v-for=\"item in tips\" v-bind:class=\"item.type\">\r\n                        {{ item.txt }}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<style scoped>\r\n.layout-body{\r\n    display:flex;\r\n    height:calc(100vh - 50px);\r\n}\r\n.layout-body .wp-drag{\r\n    flex:1;height:100%;\r\n    border-right:1px solid #CDCDCD;\r\n    box-sizing:border-box;padding:24px;\r\n    position: relative;background:#454545;\r\n}\r\n.layout-body .wp-menu{\r\n    width:180px;height:100%;\r\n}\r\n.layout-body .wp-menu label{\r\n    font-size:12px;color:#6e6e6e;\r\n}\r\n.wp-drag .drag-main{\r\n    width:84%;height:80%;\r\n    border:4px dashed #4d4d4d;\r\n    text-align:center;\r\n    position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);\r\n    opacity:0;\r\n}\r\n.wp-drag .drag-main p{\r\n    position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);\r\n    font-size:24px;color:#999999;\r\n}\r\n.wp-drag .drag-main.drop-hover{\r\n    opacity:1;\r\n}\r\n.drag-log p{\r\n    font-weight:normal;font-size:14px;line-height:1.5;\r\n    color:#999999;\r\n}\r\n.drag-log .succ{\r\n    color:#45BF55;\r\n}\r\n.drag-log .fail{\r\n    color:#F22233;\r\n}\r\n.layout-body .wp-menu .menu-options{\r\n    padding:20px;font-size:14px;height:78%;\r\n    box-sizing:border-box;\r\n}\r\n.menu-options ul li{\r\n    margin-bottom:10px;\r\n}\r\ninput[type=checkbox]{\r\n    vertical-align:-2px;\r\n}\r\n.layout-body .wp-menu .menu-address{\r\n    padding:18px 0;font-size:14px;\r\n    width:146px;margin:0 auto;\r\n    border-top:2px solid #dadada;\r\n}\r\n.menu-address h3{\r\n    font-size:14px;font-weight:normal;\r\n    margin-bottom:10px;\r\n    color:#6e6e6e;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport {handleCss, handleHtml, handleImage} from '@/assets/js/hp-handlefile';\r\nconst path = global.require('path');\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      dropHover: true,\r\n      fileInfo: [],\r\n      mode: {\r\n        spriteRemMode: false,\r\n        imgQuant: false,\r\n        plugins: []\r\n      },\r\n      // tips:[{txt:string, type:string('succ', 'fail', 'normal')}]\r\n      tips: [],\r\n      handling: false,\r\n      progress: {\r\n        index: 0,\r\n        length: 0\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    mode: {\r\n      handler: (val) => {\r\n        localStorage.setItem('options', JSON.stringify(val));\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  methods: {\r\n    async drop (e) {\r\n      this.dropHover = false;\r\n      this.tips = [];\r\n      this.fileInfo = e.dataTransfer.files;\r\n      this.progress.index = 0;\r\n      this.progress.length = this.fileInfo.length - 1;\r\n      this.handlefile();\r\n    },\r\n    async handlefile () {\r\n      let pro = this.progress;\r\n      console.log(pro.index);\r\n      let filePath = this.fileInfo[pro.index].path;\r\n      let pathObj = path.parse(filePath);\r\n      let ext = pathObj.ext;\r\n      this.tips.push({\r\n        txt: `正在处理：${filePath}`,\r\n        type: 'normal'\r\n      });\r\n      new Promise((resolve, reject) => {\r\n        if (/css/.test(ext)) {\r\n          handleCss(filePath, this.mode, resolve, reject);\r\n        } else if (/html/.test(ext)) {\r\n          handleHtml(filePath, resolve, reject);\r\n        } else if (/jpg|bmp|gif|ico|pcx|jpeg|tif|png|raw|tga/.test(ext)) {\r\n          handleImage(filePath, this.mode.imgQuant, resolve, reject);\r\n        }\r\n      }).then(res => {\r\n        this.tips.push(res);\r\n        if (pro.index < pro.length) {\r\n          ++this.progress.index;\r\n          this.handlefile();\r\n        }\r\n      }, err => {\r\n        this.tips.push(err);\r\n        if (pro.index < pro.length) {\r\n          ++this.progress.index;\r\n          this.handlefile();\r\n        }\r\n      });\r\n    }\r\n  },\r\n  created () {\r\n    let mode = localStorage.getItem('options');\r\n    if (mode) {\r\n      this.mode = JSON.parse(mode);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/index/Body.vue","'use strict';\r\n\r\nimport sprites from './hp-css-sprite';\r\nconst fs = global.require('fs');\r\nconst path = global.require('path');\r\nconst postcss = global.require('postcss');\r\nconst imagemin = global.require('imagemin');\r\nconst imageminMozjpeg = global.require('imagemin-mozjpeg');\r\nconst imageminPngquant = global.require('imagemin-pngquant');\r\nconst imageminGifsicle = global.require('imagemin-gifsicle');\r\nconst autoprefixer = global.require('autoprefixer');\r\nconst atImport = global.require('postcss-import');\r\nconst cssnano = global.require('cssnano');\r\nconst cssnext = global.require('postcss-cssnext');\r\n\r\n/**\r\n * 操作css\r\n *\r\n * @param {string} stylesheetPath\r\n * @param {object} mode:{spriteRemMode, imgQuant, plugins}\r\n * @param {function} cback\r\n * @param {function} cerr\r\n */\r\nexport function handleCss (stylesheetPath, mode, cback, cerr) {\r\n  let pathObj = path.parse(stylesheetPath);\r\n  let basePath = pathObj.dir.split(path.sep).slice(0, -1).join(path.sep);\r\n  existsFloder(basePath, path.join(basePath, '/dist/css/'));\r\n  let plugins = [];\r\n  mode.plugins.forEach((val) => {\r\n    switch (val) {\r\n      case 'cssnext':\r\n        plugins.push(cssnext({\r\n          features: {\r\n            autoprefixer: false,\r\n            rem: false\r\n          }\r\n        }));\r\n        break;\r\n      case 'autoprefixer':\r\n        plugins.push(autoprefixer('last 6 versions'));\r\n        break;\r\n      case '@import':\r\n        plugins.push(atImport);\r\n        break;\r\n      case 'cssnano':\r\n        plugins.push(cssnano);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  });\r\n\r\n  let promise = new Promise((resolve, reject) => {\r\n    sprites(stylesheetPath, mode, resolve, reject);\r\n  });\r\n  promise.then(css => {\r\n    postcss(plugins)\r\n      .process(css, {\r\n        from: stylesheetPath,\r\n        to: basePath + '/dist/css/' + pathObj.base\r\n      })\r\n      .then(result => {\r\n        fs.writeFile(path.join(basePath, '/dist/css/', pathObj.base), result.css, 'utf8', (err) => {\r\n          if (err) {\r\n            cerr({txt: err.toString(), type: 'fail'});\r\n          } else {\r\n            cback({txt: `成功处理：${stylesheetPath}`, type: 'succ'});\r\n          }\r\n        });\r\n      });\r\n  }, error => {\r\n    cerr({txt: error.toString(), type: 'fail'});\r\n  });\r\n}\r\n\r\n/**\r\n * 操作html\r\n *\r\n * @param {string} htmlPath\r\n * @param {function} cback\r\n * @param {function} cerr\r\n */\r\nexport function handleHtml (htmlPath, cback, cerr) {\r\n  let pathObj = path.parse(htmlPath);\r\n  let basePath = pathObj.dir;\r\n  existsFloder(basePath, htmlPath);\r\n  fs.readFile(htmlPath, function (err, data) {\r\n    if (err) {\r\n      cerr({txt: err.toString(), type: 'fail'});\r\n    } else {\r\n      let html = data;\r\n      fs.writeFile(path.join(basePath, '/dist/', pathObj.base), html.toString(), function (err) {\r\n        if (err) {\r\n          cerr({txt: err.toString(), type: 'fail'});\r\n        } else {\r\n          cback({txt: `成功处理：${path.join(basePath, '/dist/', pathObj.base)}`, type: 'succ'});\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * 操作图片\r\n *\r\n * @param {string} imagePath\r\n * @param {boolen} imgQuant\r\n * @param {function} cback\r\n * @param {function} cerr\r\n */\r\nexport function handleImage (imagePath, imgQuant, cback, cerr) {\r\n  let pathObj = path.parse(imagePath);\r\n  let basePath = pathObj.dir.split(path.sep).slice(0, -1).join(path.sep);\r\n  let outputPath = pathObj.dir.split(path.sep);\r\n  outputPath.splice(-1, 0, 'dist');\r\n  outputPath = outputPath.join(path.sep);\r\n  // 创建本地文件夹\r\n  existsFloder(basePath, outputPath);\r\n  if (imgQuant) {\r\n    imagemin([imagePath], path.join(outputPath), {\r\n      plugins: [\r\n        imageminMozjpeg({\r\n          quality: '100'\r\n        }),\r\n        imageminGifsicle(),\r\n        imageminPngquant({\r\n          floyd: 1,\r\n          quality: '100'\r\n        })\r\n      ]\r\n    }).then(() => {\r\n      cback({txt: `成功处理：${imagePath}`, type: 'succ'});\r\n    });\r\n  } else {\r\n    let input = fs.createReadStream(imagePath);\r\n    let output = fs.createWriteStream(path.join(outputPath, pathObj.base));\r\n    input.on('data', function (d) {\r\n      output.write(d);\r\n    });\r\n    input.on('error', function (err) {\r\n      cerr({txt: err.toString(), type: 'fail'});\r\n    });\r\n    input.on('end', function () {\r\n      output.end();\r\n      cback({txt: `成功处理：${path.join(outputPath, pathObj.base)}`, type: 'succ'});\r\n    });\r\n  }\r\n  // return [{txt: `成功处理：${imagePath}`, type: 'succ'}];\r\n}\r\n\r\n/**\r\n * 判断文件夹是否存在\r\n *\r\n *@param {string} basePath\r\n *@param {string} url\r\n */\r\nfunction existsFloder (basePath, url) {\r\n  fs.exists(path.join(basePath, '/dist/'), function (ext) {\r\n    if (!ext) {\r\n      fs.mkdir(path.join(basePath, '/dist/'), function (err) {\r\n        if (!err) {\r\n          fs.exists(url, function (ext) {\r\n            if (!ext) {\r\n              fs.mkdir(url, function (err) {\r\n                if (err) console.error(err);\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      fs.exists(url, function (ext) {\r\n        if (!ext) {\r\n          fs.mkdir(url, function (err) {\r\n            if (err) console.error(err);\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/hp-handlefile.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"layout-body\"},[_c('div',{staticClass:\"wp-menu\"},[_c('div',{staticClass:\"menu-options\"},[_c('ul',[_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.spriteRemMode),expression:\"mode.spriteRemMode\"}],staticClass:\"option\",attrs:{\"id\":\"sprite\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.mode.spriteRemMode)?_vm._i(_vm.mode.spriteRemMode,null)>-1:(_vm.mode.spriteRemMode)},on:{\"change\":function($event){var $$a=_vm.mode.spriteRemMode,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.spriteRemMode=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.spriteRemMode=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"spriteRemMode\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"sprite\"}},[_vm._v(\"雪碧图rem模式\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.imgQuant),expression:\"mode.imgQuant\"}],staticClass:\"option\",attrs:{\"id\":\"imgQuant\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.mode.imgQuant)?_vm._i(_vm.mode.imgQuant,null)>-1:(_vm.mode.imgQuant)},on:{\"change\":function($event){var $$a=_vm.mode.imgQuant,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.imgQuant=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.imgQuant=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"imgQuant\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"imgQuant\"}},[_vm._v(\"压缩图片\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.plugins),expression:\"mode.plugins\"}],staticClass:\"option\",attrs:{\"id\":\"cssnext\",\"type\":\"checkbox\",\"value\":\"cssnext\"},domProps:{\"checked\":Array.isArray(_vm.mode.plugins)?_vm._i(_vm.mode.plugins,\"cssnext\")>-1:(_vm.mode.plugins)},on:{\"change\":function($event){var $$a=_vm.mode.plugins,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"cssnext\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.plugins=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.plugins=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"plugins\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"cssnext\"}},[_vm._v(\"使用最新css\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.plugins),expression:\"mode.plugins\"}],staticClass:\"option\",attrs:{\"id\":\"autoprefixer\",\"type\":\"checkbox\",\"value\":\"autoprefixer\"},domProps:{\"checked\":Array.isArray(_vm.mode.plugins)?_vm._i(_vm.mode.plugins,\"autoprefixer\")>-1:(_vm.mode.plugins)},on:{\"change\":function($event){var $$a=_vm.mode.plugins,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"autoprefixer\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.plugins=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.plugins=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"plugins\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"autoprefixer\"}},[_vm._v(\"自动加前缀功能\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.plugins),expression:\"mode.plugins\"}],staticClass:\"option\",attrs:{\"id\":\"cssnano\",\"type\":\"checkbox\",\"value\":\"cssnano\"},domProps:{\"checked\":Array.isArray(_vm.mode.plugins)?_vm._i(_vm.mode.plugins,\"cssnano\")>-1:(_vm.mode.plugins)},on:{\"change\":function($event){var $$a=_vm.mode.plugins,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"cssnano\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.plugins=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.plugins=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"plugins\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"cssnano\"}},[_vm._v(\"压缩css\")])]),_vm._v(\" \"),_c('li',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mode.plugins),expression:\"mode.plugins\"}],staticClass:\"option\",attrs:{\"id\":\"import\",\"type\":\"checkbox\",\"value\":\"@import\"},domProps:{\"checked\":Array.isArray(_vm.mode.plugins)?_vm._i(_vm.mode.plugins,\"@import\")>-1:(_vm.mode.plugins)},on:{\"change\":function($event){var $$a=_vm.mode.plugins,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"@import\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.mode.plugins=$$a.concat([$$v]))}else{$$i>-1&&(_vm.mode.plugins=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.$set(_vm.mode, \"plugins\", $$c)}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"import\"}},[_vm._v(\"处理@import文件\")])])])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_c('div',{staticClass:\"wp-drag\"},[_c('div',{staticClass:\"drag-main\",class:{'drop-hover': _vm.dropHover},on:{\"dragover\":function($event){$event.preventDefault();_vm.dropHover = true},\"drop\":function($event){$event.preventDefault();_vm.drop($event)}}},[_c('p',[_vm._v(\"将文件拖拽到此区域\")])]),_vm._v(\" \"),_c('div',{staticClass:\"drag-log\"},_vm._l((_vm.tips),function(item){return _c('p',{class:item.type},[_vm._v(\"\\n                    \"+_vm._s(item.txt)+\"\\n                \")])}))])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-address\"},[_c('h3',[_vm._v(\"保存到\")]),_vm._v(\" \"),_c('div',{staticClass:\"local\"},[_c('input',{attrs:{\"id\":\"local\",\"type\":\"checkbox\",\"value\":\"local\",\"checked\":\"\"}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"local\"}},[_vm._v(\"本地\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f12521e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index/Body.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"/\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f12521e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Body.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Body.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f12521e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Body.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f12521e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index/Body.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div>\r\n        <index-body></index-body>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Body from '@/components/index/Body';\r\n\r\nexport default {\r\n  components: {\r\n    'index-body': Body\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('index-body')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9fd14d0c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"/\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9fd14d0c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9fd14d0c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9fd14d0c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Index.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 3","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 3","'use strict';\r\n\r\nconst postcss = global.require('postcss');\r\nconst sprites = global.require('postcss-sprites');\r\nconst path = global.require('path');\r\nconst fs = global.require('fs');\r\nconst imagemin = global.require('imagemin');\r\nconst imageminPngquant = global.require('imagemin-pngquant');\r\n/**\r\n * 配置 sprite 信息\r\n *\r\n * @param {string} stylesheetPath\r\n * @param {object} mode:{spriteRemMode, imgQuant}\r\n * @param {function} cb\r\n * @param {function} error\r\n */\r\nexport default function (stylesheetPath, mode, cb, error) {\r\n  let pathObj = path.parse(stylesheetPath);\r\n  let basePath = pathObj.dir.split(path.sep).slice(0, -1).join(path.sep);\r\n  let opts = {\r\n    stylesheetPath: path.join(basePath, '/dist/css/'),\r\n    spritePath: './dist/img',\r\n    basePath: basePath,\r\n    spritesmith: {\r\n      padding: 5\r\n      // algorithm: 'top-down'\r\n    },\r\n    filterBy: image => {\r\n      if (!~image.url.indexOf('/slice/')) {\r\n        return Promise.reject(new Error('error'));\r\n      }\r\n      return Promise.resolve();\r\n    },\r\n    groupBy: image => {\r\n      let name = /\\/slice\\/([0-9.A-Za-z]+)\\//.exec(image.url);\r\n      if (!name) {\r\n        return Promise.reject(new Error('Not a shape image'));\r\n      }\r\n      return Promise.resolve(name[1]);\r\n    },\r\n    hooks: {\r\n      onUpdateRule: (rule, token, image) => {\r\n        let backgroundSize, backgroundPosition;\r\n        if (mode.spriteRemMode) {\r\n          let backgroundPositionX = -(image.coords.x / 100);\r\n          let backgroundPositionY = -(image.coords.y / 100);\r\n\r\n          backgroundSize = postcss.decl({\r\n            prop: 'background-size',\r\n            value: `${(image.spriteWidth / 100)}rem auto`\r\n          });\r\n\r\n          backgroundPosition = postcss.decl({\r\n            prop: 'background-position',\r\n            value: `${backgroundPositionX}rem ${backgroundPositionY}rem`\r\n          });\r\n        } else {\r\n          let backgroundPositionX = -image.coords.x;\r\n          let backgroundPositionY = -image.coords.y;\r\n          backgroundPosition = postcss.decl({\r\n            prop: 'background-position',\r\n            value: `${backgroundPositionX}px ${backgroundPositionY}px`\r\n          });\r\n        }\r\n\r\n        let timestamp = new Date().getTime();\r\n        let backgroundImage = postcss.decl({\r\n          prop: 'background-image',\r\n          value: `url(${image.spriteUrl}?${timestamp})`\r\n        });\r\n\r\n        let backgroundRepeat = postcss.decl({\r\n          prop: 'background-repeat',\r\n          value: 'no-repeat'\r\n        });\r\n\r\n        rule.insertAfter(token, backgroundImage);\r\n        rule.insertAfter(backgroundImage, backgroundPosition);\r\n        if (mode.spriteRemMode) {\r\n          rule.insertAfter(backgroundPosition, backgroundSize);\r\n        }\r\n        rule.insertAfter(backgroundPosition, backgroundRepeat);\r\n      },\r\n      onSaveSpritesheet: (opts, spritesheet) => {\r\n        let filenameChunks = spritesheet.groups.concat(spritesheet.extension);\r\n        if (filenameChunks.length > 1) {\r\n          return path.join(basePath, opts.spritePath, 'spr-' + filenameChunks[0] + '.' + filenameChunks[1]);\r\n        } else {\r\n          return path.join(basePath, opts.spritePath, 'spr' + '.' + filenameChunks[0]);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  fs.readFile(stylesheetPath, 'utf-8', (err, css) => {\r\n    if (err) {\r\n      error(err);\r\n    } else {\r\n      // 处理雪碧图\r\n      postcss([sprites(opts)])\r\n        .process(css, {\r\n          from: stylesheetPath,\r\n          to: basePath + '/dist/css/' + pathObj.base\r\n        })\r\n        .then(result => {\r\n          if (mode.imgQuant) {\r\n            // 压缩雪碧图\r\n            imagemin([path.join(basePath, '/dist/img/spr*.png')], path.join(basePath, '/dist/img/'), {\r\n              plugins: [\r\n                imageminPngquant({\r\n                  quality: '100'\r\n                })\r\n              ]\r\n            }).then(() => {\r\n              cb(result.css);\r\n            });\r\n          } else {\r\n            cb(result.css);\r\n          }\r\n        });\r\n    }\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/hp-css-sprite.js"],"sourceRoot":""}